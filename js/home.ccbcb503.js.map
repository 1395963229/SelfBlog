{"version":3,"sources":["webpack:///./src/views/Home/index.vue?2051","webpack:///./src/views/Home/index.vue","webpack:///./src/views/Home/CarouseItem.vue","webpack:///./src/components/ImageLoader/index.vue","webpack:///src/components/ImageLoader/index.vue","webpack:///./src/components/ImageLoader/index.vue?aae8","webpack:///./src/components/ImageLoader/index.vue?2713","webpack:///src/views/Home/CarouseItem.vue","webpack:///./src/views/Home/CarouseItem.vue?8157","webpack:///./src/views/Home/CarouseItem.vue?d17c","webpack:///src/views/Home/index.vue","webpack:///./src/views/Home/index.vue?65df","webpack:///./src/views/Home/index.vue?8024","webpack:///./src/components/ImageLoader/index.vue?5429","webpack:///./src/views/Home/CarouseItem.vue?52b9"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","on","$event","wheelMouse","ref","style","marginTop","currentTop","handleTransitionend","_l","data","item","key","id","attrs","index","switchTo","length","i","class","active","staticRenderFns","handleMousemove","handleMouseleave","imgLocation","carousel","bigImg","midImg","anewRender","_v","_s","title","description","everythingDoing","placeholder","_e","opacity","imgShowOpacity","transition","duration","src","changeImg","isLoadingImg","props","type","required","default","computed","methods","setTimeout","component","transform","components","ImageLoader","left","top","titleWidth","descWidth","containerSize","innerSize","excessWidth","excessHeight","mouseX","mouseY","mounted","window","beforeDestroy","setSize","height","width","containerHeight","wheeling","created","CarouseItem","Icon","handleResize"],"mappings":"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eACAC,SACAC,WAGAC,UACA,6CACA,2CAEA,eACA,mCACA,mCACAC,gDAEAC,gBACAD,mDAEAjB,SAEApB,aACA,iCACA,+BACA,8BACA,uCACA,kDAGA,gCACA,8BACA,6BACA,yCACA,iDAGAuC,UACA,oBACAC,8CACAC,6CAEA,gBACAD,8CACAC,6CAEA,+DACA,mEAGA/C,mBACA,QACA,kDACA,MACA,MACA,wBACA,wBAGA,iEACA,SACA,0DAEAC,mBACA,mCACA,sCCzGoW,ICQhW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,gCCwBA,GACfb,OACA,OACAK,QACAuD,kBACAC,cAGAC,UACA,4CAEAR,UACA,uDACAC,qDAEAC,gBACAD,wDAEAb,YACAqB,cACAC,aAEA3B,aACA,mDACAxC,aACA,8CAGAyC,SACA2B,eACA,wDAEA3D,YACA,cAEAR,sBACA,kBAEAL,cACA,gBAGA,2BACA,iBACA,cACA,4CACA,iBACA,kBC1F8V,ICQ1V,G,UAAY,eACd,EACAd,EACAgC,GACA,EACA,KACA,WACA,OAIa,e,oECnBf,W,yDCAA,W","file":"js/home.ccbcb503.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a4a3649e&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"Loading\",rawName:\"v-Loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"home-container\",on:{\"wheel\":function($event){return _vm.wheelMouse($event)}}},[_c('ul',{ref:\"container\",staticClass:\"content-ul\",style:({ marginTop: _vm.currentTop }),on:{\"transitionend\":_vm.handleTransitionend}},_vm._l((_vm.data),function(item){return _c('li',{key:item.id},[_c('CarouseItem',{attrs:{\"carousel\":item}})],1)}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.index >= 1),expression:\"index >= 1\"}],staticClass:\"icon icon-top\",on:{\"click\":function($event){return _vm.switchTo(_vm.index - 1)}}},[_c('Icon',{attrs:{\"type\":\"arrowUp\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.index < _vm.data.length - 1),expression:\"index < data.length - 1\"}],staticClass:\"icon icon-bottom\",on:{\"click\":function($event){return _vm.switchTo(_vm.index + 1)}}},[_c('Icon',{attrs:{\"type\":\"arrowDown\"}})],1),_c('ul',{staticClass:\"indicator\"},_vm._l((_vm.data),function(item,i){return _c('li',{key:item.id,class:{ active: i === _vm.index },on:{\"click\":function($event){return _vm.switchTo(i)}}})}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"innerContainer\",staticClass:\"carousel-item-container\",on:{\"mousemove\":function($event){return _vm.handleMousemove($event)},\"mouseleave\":_vm.handleMouseleave}},[_c('div',{ref:\"outerContainer\",staticClass:\"carousel-img\",style:(_vm.imgLocation)},[_c('ImageLoader',{attrs:{\"src\":_vm.carousel.bigImg,\"placeholder\":_vm.carousel.midImg},on:{\"load\":function($event){return _vm.anewRender()}}})],1),_c('div',{ref:\"title\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.carousel.title))]),_c('div',{ref:\"desc\",staticClass:\"description\"},[_vm._v(_vm._s(_vm.carousel.description))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image-loader-container\"},[(_vm.everythingDoing)?_c('img',{staticClass:\"placeholder\",attrs:{\"src\":_vm.placeholder,\"alt\":\"\"}}):_vm._e(),_c('img',{staticClass:\"img-show\",style:({ opacity: _vm.imgShowOpacity, transition: `all ${_vm.duration}ms` }),attrs:{\"src\":_vm.src},on:{\"load\":_vm.changeImg}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"image-loader-container\">\r\n    <img v-if=\"everythingDoing\" class=\"placeholder\" :src=\"placeholder\" alt=\"\" />\r\n    <img\r\n      class=\"img-show\"\r\n      :src=\"src\"\r\n      @load=\"changeImg\"\r\n      :style=\"{ opacity: imgShowOpacity, transition: `all ${duration}ms` }\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoadingImg: true, //图片正在加载\r\n      everythingDoing: true, //图片加载完成但还在改变opacity\r\n    }\r\n  },\r\n  props: {\r\n    //原始图片路径\r\n    src: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    //加载完成前的占位图\r\n    placeholder: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    //原始图加载完成后，切换到原始图经过的毫秒数\r\n    duration: {\r\n      type: Number,\r\n      default: 500,\r\n    },\r\n  },\r\n  computed: {\r\n    imgShowOpacity() {\r\n      return this.isLoadingImg ? 0 : 1\r\n    },\r\n  },\r\n  methods: {\r\n    //图片加载完毕的回调函数\r\n    changeImg() {\r\n      this.isLoadingImg = false\r\n      setTimeout(() => {\r\n        this.everythingDoing = false\r\n      }, this.duration)\r\n      this.$emit(\"load\")\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(~@/style/common.less);\r\n.image-loader-container {\r\n  overflow: hidden;\r\n}\r\nimg {\r\n  .self-fill();\r\n  z-index: -1;\r\n}\r\n.placeholder {\r\n  filter: blur(12px);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=176ed406&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=176ed406&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"176ed406\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    class=\"carousel-item-container\"\r\n    ref=\"innerContainer\"\r\n    @mousemove=\"handleMousemove($event)\"\r\n    @mouseleave=\"handleMouseleave\"\r\n  >\r\n    <div class=\"carousel-img\" ref=\"outerContainer\" :style=\"imgLocation\">\r\n      <ImageLoader\r\n        @load=\"anewRender()\"\r\n        :src=\"carousel.bigImg\"\r\n        :placeholder=\"carousel.midImg\"\r\n      />\r\n    </div>\r\n    <div class=\"title\" ref=\"title\">{{ carousel.title }}</div>\r\n    <div class=\"description\" ref=\"desc\">{{ carousel.description }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageLoader from \"@/components/ImageLoader\"\r\nexport default {\r\n  computed: {\r\n    imgLocation() {\r\n      return {\r\n        transform: `translate(${this.left},${this.top})`,\r\n      }\r\n    },\r\n  },\r\n\r\n  props: [\"carousel\"],\r\n  components: {\r\n    ImageLoader,\r\n  },\r\n  data() {\r\n    return {\r\n      left: 0, //图片left top值\r\n      top: 0,\r\n      titleWidth: 0,\r\n      descWidth: 0,\r\n      containerSize: null, //外层容器的尺寸（img容器）\r\n      innerSize: null, //里层容器的尺寸\r\n      excessWidth: 0,\r\n      excessHeight: 0,\r\n      mouseX: 0, //鼠标的横坐标\r\n      mouseY: 0, //鼠标的纵坐标\r\n    }\r\n  },\r\n  mounted() {\r\n    this.titleWidth = this.$refs.title.clientWidth\r\n    this.descWidth = this.$refs.desc.clientWidth\r\n\r\n    this.setSize()\r\n    this.left = -this.excessWidth / 2 + \"px\"\r\n    this.top = -this.excessHeight / 2 + \"px\"\r\n    window.addEventListener(\"resize\", this.setSize)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.setSize)\r\n  },\r\n  methods: {\r\n    //加载文字\r\n    anewRender() {\r\n      this.$refs.title.style.opacity = 1\r\n      this.$refs.title.style.width = 0\r\n      this.$refs.title.clientHeight //reflow\r\n      this.$refs.title.style.transition = \"2s\"\r\n      this.$refs.title.style.width = this.titleWidth + \"px\"\r\n\r\n      //‘说明’延迟两秒显示\r\n      this.$refs.desc.style.opacity = 1\r\n      this.$refs.desc.style.width = 0\r\n      this.$refs.desc.clientHeight //reflow\r\n      this.$refs.desc.style.transition = \"3s 1s\"\r\n      this.$refs.desc.style.width = this.descWidth + \"px\"\r\n    },\r\n    //计算容器宽高\r\n    setSize() {\r\n      this.containerSize = {\r\n        height: this.$refs.outerContainer.clientHeight,\r\n        width: this.$refs.outerContainer.clientWidth,\r\n      }\r\n      this.innerSize = {\r\n        height: this.$refs.innerContainer.clientHeight,\r\n        width: this.$refs.innerContainer.clientWidth,\r\n      }\r\n      this.excessWidth = this.containerSize.width - this.innerSize.width //多出来的宽\r\n      this.excessHeight = this.containerSize.height - this.innerSize.height //多出来的高\r\n    },\r\n    //鼠标移动事件\r\n    handleMousemove(e) {\r\n      const containerLocation =\r\n        this.$refs.innerContainer.getBoundingClientRect()\r\n      const rectX = containerLocation.x\r\n      const rectY = containerLocation.y\r\n      this.mouseX = rectX - e.clientX\r\n      this.mouseY = rectY - e.clientY\r\n\r\n      //\r\n      this.left = (this.excessWidth / this.innerSize.width) * this.mouseX + \"px\"\r\n      this.top =\r\n        (this.excessHeight / this.innerSize.height) * this.mouseY + \"px\"\r\n    },\r\n    handleMouseleave() {\r\n      this.left = -this.excessWidth / 2 + \"px\"\r\n      this.top = -this.excessHeight / 2 + \"px\"\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"~@/style/var.less\";\r\np {\r\n  color: #fff;\r\n}\r\n.carousel-item-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  .carousel-img {\r\n    position: relative;\r\n    left: 0;\r\n    top: 0;\r\n    width: 110%;\r\n    height: 110%;\r\n    transition: 0.3s;\r\n  }\r\n  .title,\r\n  .description {\r\n    position: absolute;\r\n    left: 30px;\r\n    top: 0;\r\n    color: lighten(@gray, 10%);\r\n    letter-spacing: 3px;\r\n    white-space: nowrap;\r\n    opacity: 0;\r\n    overflow: hidden;\r\n    text-shadow: 1px 0 0 rgb(0, 0, 0, 0.3), -1px 0 0 rgb(0, 0, 0, 0.3),\r\n      0 1px 0 rgb(0, 0, 0, 0.3), 0 -1px 0 rgb(0, 0, 0, 0.3);\r\n  }\r\n  .title {\r\n    top: calc(50% + 100px);\r\n    font-size: 2em;\r\n  }\r\n  .description {\r\n    top: calc(50% + 160px);\r\n    font-size: 1.2em;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarouseItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarouseItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CarouseItem.vue?vue&type=template&id=6670d93c&scoped=true&\"\nimport script from \"./CarouseItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CarouseItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CarouseItem.vue?vue&type=style&index=0&id=6670d93c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6670d93c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"home-container\" @wheel=\"wheelMouse($event)\" v-Loading=\"loading\">\r\n    <!-- 图片模块start -->\r\n    <ul\r\n      class=\"content-ul\"\r\n      :style=\"{ marginTop: currentTop }\"\r\n      ref=\"container\"\r\n      @transitionend=\"handleTransitionend\"\r\n    >\r\n      <li v-for=\"item in data\" :key=\"item.id\">\r\n        <CarouseItem :carousel=\"item\" />\r\n      </li>\r\n    </ul>\r\n    <!-- 图片模块end -->\r\n    <!-- 上下箭头模块start -->\r\n    <div v-show=\"index >= 1\" @click=\"switchTo(index - 1)\" class=\"icon icon-top\">\r\n      <Icon type=\"arrowUp\" />\r\n    </div>\r\n    <div\r\n      v-show=\"index < data.length - 1\"\r\n      @click=\"switchTo(index + 1)\"\r\n      class=\"icon icon-bottom\"\r\n    >\r\n      <Icon type=\"arrowDown\" />\r\n    </div>\r\n    <!-- 上下箭头模块end -->\r\n    <!-- 右侧指示器模块start-->\r\n    <ul class=\"indicator\">\r\n      <li\r\n        :class=\"{ active: i === index }\"\r\n        v-for=\"(item, i) in data\"\r\n        :key=\"item.id\"\r\n        @click=\"switchTo(i)\"\r\n      ></li>\r\n    </ul>\r\n    <!-- 右侧指示器模块end-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CarouseItem from \"./CarouseItem.vue\"\r\nimport Icon from \"@/components/Icon\"\r\nimport { mapState } from \"vuex\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      index: 0, //当前是第几张图片\r\n      containerHeight: 0, //容器的高度\r\n      wheeling: false, //滚轮是否在滚动\r\n    }\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"banner/fetchBanner\")\r\n  },\r\n  mounted() {\r\n    this.containerHeight = this.$refs.container.clientHeight\r\n    window.addEventListener(\"resize\", this.handleResize) //浏览器大小改变时，重新读取容器高度\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.handleResize)\r\n  },\r\n  components: {\r\n    CarouseItem,\r\n    Icon,\r\n  },\r\n  computed: {\r\n    ...mapState(\"banner\", [\"loading\", \"data\"]),\r\n    currentTop() {\r\n      return -this.index * this.containerHeight + \"px\"\r\n    },\r\n  },\r\n  methods: {\r\n    handleResize() {\r\n      this.containerHeight = this.$refs.container.clientHeight\r\n    },\r\n    switchTo(i) {\r\n      this.index = i\r\n    },\r\n    handleTransitionend() {\r\n      this.wheeling = false\r\n    },\r\n    wheelMouse(e) {\r\n      if (this.wheeling) {\r\n        return\r\n      }\r\n      if (e.deltaY < -5 && this.index > 0) {\r\n        this.wheeling = true\r\n        this.index--\r\n      } else if (e.deltaY > 5 && this.index < this.data.length - 1) {\r\n        this.wheeling = true\r\n        this.index++\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"~@/style/common.less\";\r\n@import \"~@/style/var.less\";\r\n.home-container {\r\n  @gap: 25px;\r\n  @jump: 7px;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  .content-ul {\r\n    width: 100%;\r\n    height: 100%;\r\n    transition: 0.5s;\r\n    li {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .icon {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    font-size: 20px;\r\n    color: @gray;\r\n    cursor: pointer;\r\n  }\r\n  @keyframes jump-top {\r\n    0% {\r\n      transform: translate(50%, @jump);\r\n    }\r\n    50% {\r\n      transform: translate(50%, -@jump);\r\n    }\r\n    100% {\r\n      transform: translate(50%, @jump);\r\n    }\r\n  }\r\n  @keyframes jump-bottom {\r\n    0% {\r\n      transform: translate(50%, -@jump);\r\n    }\r\n    50% {\r\n      transform: translate(50%, @jump);\r\n    }\r\n    100% {\r\n      transform: translate(50%, -@jump);\r\n    }\r\n  }\r\n  .icon-top {\r\n    top: @gap;\r\n    animation: jump-top 2s infinite;\r\n  }\r\n  .icon-bottom {\r\n    top: auto;\r\n    bottom: @gap;\r\n    animation: jump-bottom 2s infinite;\r\n  }\r\n  //指示器\r\n  .indicator {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 50%;\r\n    li {\r\n      width: 7px;\r\n      height: 7px;\r\n      border-radius: 50%;\r\n      background-color: @words;\r\n      margin: 5px;\r\n      border: 1px solid @white;\r\n      box-sizing: border-box;\r\n      transition: 0.5s;\r\n      cursor: pointer;\r\n      &.active {\r\n        background-color: @white;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a4a3649e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a4a3649e&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4a3649e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=176ed406&prod&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CarouseItem.vue?vue&type=style&index=0&id=6670d93c&prod&lang=less&scoped=true&\""],"sourceRoot":""}